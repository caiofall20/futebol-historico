<!DOCTYPE html>
<html lang="pt-BR">
<head>
    {% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gigantes da Bola</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: rgb(2,6,13);
            background: linear-gradient(94deg, rgba(2,6,13,1) 0%, rgba(6,29,48,1) 70%, rgba(9,51,81,1) 100%);
            color: white;
        }

        .navbar {
            display: flex;
            justify-content: space-between;
            padding: 10px 20px;
            background-color: #1e272e;
        }

        .navbar ul {
            list-style-type: none;
            margin: 0;
            padding: 0;
            display: flex;
        }

        .navbar li {
            margin-right: 20px;
        }

        .navbar a {
            color: white;
            text-decoration: none;
            padding: 10px 15px;
            display: block;
        }

        .navbar a:hover {
            background-color: #34495e;
            border-radius: 5px;
        }

        .header {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 50px 20px;
            position: relative;
            flex-direction: row;
            text-align: left;
        }

        .header-content {
            margin-right: 20px;
        }

        .header h1 {
            font-size: 48px;
            margin-bottom: 20px;
            color: #FFD600;
            text-shadow: 1px 1px 3px #FF004D;
        }

        .header p {
            font-size: 18px;
        }

        .highlight-players {
            text-align: center;
            padding: 50px 20px;
        }

        .highlight-players h2 {
            font-size: 24px;
            margin-bottom: 20px;
        }

        .carousel-item {
            display: flex;
            justify-content: center;
        }

        .player-card {
            background: #2f3640;
            padding: 10px;
            border-radius: 10px;
            width: 200px;
        }

        .player-card img {
            width: 100%;
            border-radius: 10px;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .player-card img:hover {
            transform: scale(1.1);
        }

        #chartdiv {
            width: 100%;
            height: 500px;
            max-width: 100%;
            margin: 50px auto;
        }

        .info-card {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 20px;
            border-radius: 10px;
            width: 300px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
            z-index: 1000;
        }

        .info-card button {
            margin-top: 10px;
            padding: 5px 10px;
            background-color: #FFD600;
            color: #000;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .info-card button:hover {
            background-color: #FFC107;
        }

        .icons-container {
            text-align: center;
            margin-top: 20px;
        }

        .icons-container .icon {
            display: inline-block;
            margin: 0 10px;
        }

        .icons-container .icon img {
            width: 50px;
            height: 50px;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .icons-container .icon img:hover {
            transform: scale(1.1);
        }
    </style>
</head>
<body>
    <div class="navbar">
        <ul>
            <li class="nav-item">
                <a class="nav-link" href="{% url 'index' %}">Home</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{% url 'selecoes' %}">Seleções Históricas</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{% url 'times' %}">Times Históricos</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{% url 'jogadores_page' %}">Jogadores Lendários</a>
            </li>
        </ul>
        <ul>
            <li class="nav-item">
                <a class="nav-link" href="#">PT-BR</a>
            </li>
        </ul>
    </div>

    <div class="header">
        <div class="header-content">
            <h1>GIGANTES da BOLA</h1>
            <p>Gigantes da Bola é blog para você, apaixonado por futebol, e que gosta de mergulhar fundo nesse universo.</p>
        </div>
        <div class="container">
            <img src="{% static 'blog/images/bola-adidas.png' %}" alt="Bola" class="ball">
        </div>
        <div class="svg-container">
                <img src="{% static 'blog/images/triangulos.svg' %}" alt="Triângulos">
            </div>
    </div>

    <!-- Highlight Players Section -->
    <div class="highlight-players">
        <h2>JOGADORES DE DESTAQUE</h2>
        <div id="highlightCarousel" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner">
                {% for jogador in jogadores %}
                    <div class="carousel-item {% if forloop.first %}active{% endif %}">
                        <div class="player-card">
                            {% if jogador.imagem %}
                                <img src="{{ jogador.imagem.url }}" class="d-block w-100" alt="{{ jogador.nome }}">
                            {% else %}
                                <img src="{% static 'blog/images/default.jpg' %}" class="d-block w-100" alt="Imagem padrão">
                            {% endif %}
                            <div class="carousel-caption d-none d-md-block">
                                <h5>{{ jogador.nome }}</h5>
                                
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#highlightCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#highlightCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
    </div>

    <div class="icons-container">
        <h2>Paises Campeões</h2>
        <div class="icon" data-country-id="BR">
            <img src="{% static 'blog/images/flags/brasil.png' %}" alt="Brasil">
        </div>
        <div class="icon" data-country-id="DE">
            <img src="{% static 'blog/images/flags/alemanha.png' %}" alt="Alemanha">
        </div>
        <div class="icon" data-country-id="AR">
            <img src="{% static 'blog/images/flags/argentina.png' %}" alt="Argentina">
        </div>
        <div class="icon" data-country-id="IT">
            <img src="{% static 'blog/images/flags/italia.png' %}" alt="Itália">
        </div>
        <div class="icon" data-country-id="FR">
            <img src="{% static 'blog/images/flags/franca.png' %}" alt="França">
        </div>
        <div class="icon" data-country-id="GB">
            <img src="{% static 'blog/images/flags/inglaterra.png' %}" alt="Inglaterra">
        </div>
        <div class="icon" data-country-id="UY">
            <img src="{% static 'blog/images/flags/uruguai.png' %}" alt="Uruguai">
        </div>
        <div class="icon" data-country-id="ES">
            <img src="{% static 'blog/images/flags/espanha.png' %}" alt="Espanha">
        </div>
    </div>

    <div id="chartdiv"></div>

    <div class="info-card" id="info-card">
        <h2 id="country-name">Nome do País</h2>
        <p id="country-info">Informações sobre o país.</p>
        <button onclick="closeInfoCard()">Fechar</button>
    </div>

    <!-- Bootstrap JS and dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/index.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/map.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/geodata/worldLow.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/themes/Animated.js"></script>
    <script>
        am5.ready(function() {
            var root = am5.Root.new("chartdiv");

            root.setThemes([
                am5themes_Animated.new(root)
            ]);

            var chart = root.container.children.push(am5map.MapChart.new(root, {
                panX: "rotateX",
                panY: "rotateY",
                projection: am5map.geoOrthographic(),
                paddingBottom: 20,
                paddingTop: 20,
                paddingLeft: 20,
                paddingRight: 20
            }));

            var polygonSeries = chart.series.push(am5map.MapPolygonSeries.new(root, {
                geoJSON: am5geodata_worldLow
            }));

            polygonSeries.mapPolygons.template.setAll({
                tooltipText: "{name}",
                toggleKey: "active",
                interactive: true
            });

            polygonSeries.mapPolygons.template.states.create("hover", {
                fill: root.interfaceColors.get("primaryButtonHover")
            });

            polygonSeries.mapPolygons.template.states.create("active", {
                fill: root.interfaceColors.get("primaryButtonHover")
            });

            var backgroundSeries = chart.series.push(am5map.MapPolygonSeries.new(root, {}));
            backgroundSeries.mapPolygons.template.setAll({
                fill: root.interfaceColors.get("alternativeBackground"),
                fillOpacity: 0.1,
                strokeOpacity: 0
            });
            backgroundSeries.data.push({
                geometry: am5map.getGeoRectangle(90, 180, -90, -180)
            });

            var graticuleSeries = chart.series.unshift(
                am5map.GraticuleSeries.new(root, {
                    step: 10
                })
            );

            graticuleSeries.mapLines.template.set("strokeOpacity", 0.1)

            var previousPolygon;

            polygonSeries.mapPolygons.template.on("active", function(active, target) {
                if (previousPolygon && previousPolygon != target) {
                    previousPolygon.set("active", false);
                }
                if (target.get("active")) {
                    selectCountry(target.dataItem.get("id"));
                }
                previousPolygon = target;
            });

            function selectCountry(id) {
                var dataItem = polygonSeries.getDataItemById(id);
                var target = dataItem.get("mapPolygon");
                if (target) {
                    var centroid = target.geoCentroid();
                    if (centroid) {
                        chart.animate({ key: "rotationX", to: -centroid.longitude, duration: 1500, easing: am5.ease.inOut(am5.ease.cubic) });
                        chart.animate({ key: "rotationY", to: -centroid.latitude, duration: 1500, easing: am5.ease.inOut(am5.ease.cubic) });
                        showInfoCard(id); // Exibe o card com as informações do país
                    }
                }
            }

            function showInfoCard(countryId) {
                var countryData = {
                    "BR": { name: "Brasil", info: "O Brasil ganhou a Copa do Mundo X vezes." },
                    "DE": { name: "Alemanha", info: "A Alemanha ganhou a Copa do Mundo X vezes." },
                    "AR": { name: "Argentina", info: "A Argentina ganhou a Copa do Mundo X vezes." },
                    "IT": { name: "Itália", info: "A Itália ganhou a Copa do Mundo X vezes." },
                    "FR": { name: "França", info: "A França ganhou a Copa do Mundo X vezes." },
                    "GB": { name: "Inglaterra", info: "A Inglaterra ganhou a Copa do Mundo X vezes." },
                    "UY": { name: "Uruguai", info: "O Uruguai ganhou a Copa do Mundo X vezes." },
                    "ES": { name: "Espanha", info: "A Espanha ganhou a Copa do Mundo X vezes." }
                };
                
                var country = countryData[countryId] || { name: "Desconhecido", info: "Informações não disponíveis." };
                document.getElementById('country-name').textContent = country.name;
                document.getElementById('country-info').textContent = country.info;
                document.getElementById('info-card').style.display = 'block';
            }

            function closeInfoCard() {
                document.getElementById('info-card').style.display = 'none';
            }

            document.querySelectorAll('.icons-container .icon').forEach(function(icon) {
                icon.addEventListener('click', function() {
                    var countryId = this.getAttribute('data-country-id');
                    selectCountry(countryId);
                });
            });
        });
    </script>
</body>
</html>
